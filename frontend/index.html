<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MedVision - AI Lung MRI Prediction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    /* .hero {
      background: url('images/hero_img.png') no-repeat center center;
      background-size: cover;
      height: 60vh;
      display: flex;
      align-items: center;
      color: white;
      text-align: center;
    } */
    #result {
      font-size: 1.2rem;
      font-weight: bold;
      margin-top: 15px;
    }
    .card-hover:hover {
      transform: translateY(-5px);
      transition: 0.3s;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="#">MedVision</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#upload">Predict</a></li>
        <li class="nav-item"><a class="nav-link" href="#howitworks">How it Works</a></li>
        <li class="nav-item"><a class="nav-link" href="#samples">Samples</a></li>
        <li class="nav-item"><a class="nav-link" href="#stats">Stats</a></li>
        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section
<section class="hero">
  <div class="container">
    <h1 class="display-4">MedVision</h1>
    <p class="lead">AI-powered Lung MRI Analysis for COVID-19 & Pneumonia</p>
    <a href="#upload" class="btn btn-primary btn-lg">Get Started</a>
  </div>
</section> -->


<!-- <section class="hero">
  <div class="container text-center">
    <h1 class="display-4">MedVision</h1>
    <p class="lead">AI-powered Lung MRI Analysis for COVID-19 & Pneumonia</p>
    <a href="#upload" class="btn btn-primary btn-lg">Get Started</a>
  </div>
</section> -->

<section class="hero">
  <div class="bg1"></div>
  <div class="bg2"></div>
  <div class="container text-center hero-content">
    <h1 class="display-4">MedVision</h1>
    <p class="lead">AI-powered Lung MRI Analysis for COVID-19 & Pneumonia</p>
    <a href="#upload" class="btn btn-primary btn-lg">Get Started</a>
  </div>
</section>

<script>
// const hero = document.querySelector('.hero');
// const images = [
//   'images/hero_img.png',
//   'images/hero_img2.png',
//   'images/hero_img3.png'
// ];
// let i = 0;

// function changeBackground() {
//   hero.style.background = `url('${images[i]}') no-repeat center center`;
//   hero.style.backgroundSize = 'cover';
//   i = (i + 1) % images.length;
// }

// // Αλλαγή κάθε 4 δευτερόλεπτα
// setInterval(changeBackground, 4000);

// // Αρχικό background
// changeBackground();

const images = [
  'images/hero_img.png',
  'images/hero_img2.png',
  'images/hero_img_3.png'
];

let i = 0;
let bg1 = document.querySelector('.bg1');
let bg2 = document.querySelector('.bg2');

// Αρχικό background
bg1.style.backgroundImage = `url('${images[i]}')`;
bg1.style.opacity = "0";  // ξεκινάμε από 0
i++;

// Fade-in πρώτο background
setTimeout(() => {
  bg1.style.opacity = "1";
}, 100); // μικρή καθυστέρηση για να ενεργοποιηθεί το transition

function changeBackground() {
  if (bg1.style.opacity == "1") {
    bg2.style.backgroundImage = `url('${images[i]}')`;
    bg2.style.opacity = "1";
    bg1.style.opacity = "0";
  } else {
    bg1.style.backgroundImage = `url('${images[i]}')`;
    bg1.style.opacity = "1";
    bg2.style.opacity = "0";
  }
  i = (i + 1) % images.length;
}

// αλλαγή κάθε 4 δευτερόλεπτα
setInterval(changeBackground, 4000);

</script>


<!-- Upload / Prediction Section -->
<section id="upload" class="py-5">
<!-- <section id="upload" class="py-5 bg-info text-dark"></section> -->
  <div class="container">
    <h2 class="text-center mb-4">Upload MRI Image</h2>
    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <input type="file" id="fileInput" class="form-control mb-3">
        <button id="predictBtn" class="btn btn-success mb-3">Predict</button>
        <div id="result"></div>
      </div>
    </div>
  </div>
</section>

<!-- How it Works Section -->
<section id="howitworks" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-4">How it Works</h2>
    <div class="row g-4">
      <div class="col-md-3">
        <div class="card card-hover text-center p-3">
          <i class="bi bi-upload display-4 text-primary mb-2"></i>
          <h5>Upload MRI</h5>
          <p>Select your lung MRI image from your device.</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover text-center p-3">
          <i class="bi bi-gear display-4 text-primary mb-2"></i>
          <h5>Preprocessing</h5>
          <p>Image is resized and normalized for the model.</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover text-center p-3">
          <i class="bi bi-cpu display-4 text-primary mb-2"></i>
          <h5>CNN Prediction</h5>
          <p>The trained AI model predicts the condition.</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover text-center p-3">
          <i class="bi bi-card-checklist display-4 text-primary mb-2"></i>
          <h5>Result</h5>
          <p>Prediction and confidence score are displayed instantly.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sample Gallery Section -->
<section id="samples" class="py-5">
  <div class="container">
    <h2 class="text-center mb-4">Sample MRI Images</h2>
    <div id="carouselSamples" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
      <div class="carousel-inner">
        <div class="carousel-item active text-center">
          <img src="images/COVID.png" class="d-block mx-auto" style="max-height:300px;" alt="COVID">
          <div class="carousel-caption d-none d-md-block">
            <h5>COVID-19</h5>
          </div>
        </div>
        <div class="carousel-item text-center">
          <img src="images/Viral_Pneumonia.png" class="d-block mx-auto" style="max-height:300px;" alt="Pneumonia">
          <div class="carousel-caption d-none d-md-block">
            <h5>Pneumonia</h5>
          </div>
        </div>
        <div class="carousel-item text-center">
          <img src="images/Normal.png" class="d-block mx-auto" style="max-height:300px;" alt="Healthy">
          <div class="carousel-caption d-none d-md-block">
            <h5>Healthy</h5>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselSamples" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselSamples" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
</section>

<!-- Statistics Section -->
<section id="stats" class="py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-4">Model Performance</h2>
    <div class="row text-center g-4">
      <div class="col-md-3">
        <div class="card card-hover p-3">
          <h5>Accuracy</h5>
          <p class="display-6 text-success">95%</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover p-3">
          <h5>Precision</h5>
          <p class="display-6 text-success">93%</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover p-3">
          <h5>Recall</h5>
          <p class="display-6 text-success">94%</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card card-hover p-3">
          <h5>F1 Score</h5>
          <p class="display-6 text-success">93%</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section id="about" class="py-5">
  <div class="container">
    <h2 class="text-center mb-4">About MedVision</h2>
    <p class="text-center mx-auto" style="max-width:700px;">
      MedVision is an AI-powered tool that uses Convolutional Neural Networks (CNN) to classify lung MRI images.
      It can predict whether a patient has COVID-19, Pneumonia, or is Healthy. Built with Python, TensorFlow, Flask, and Bootstrap for a responsive web experience.
    </p>
  </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-3">
  &copy; 2025 MedVision. All rights reserved.
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Inline JS for Prediction -->
<script>
document.getElementById("predictBtn").addEventListener("click", () => {
  const fileInput = document.getElementById("fileInput");
  const file = fileInput.files[0];
  if (!file) {
    alert("Please select an MRI image first!");
    return;
  }

  const formData = new FormData();
  formData.append("file", file);

  // Replace with your Flask backend URL
  fetch("http://localhost:5000/predict", {
    method: "POST",
    body: formData
  })
  .then(res => res.json())
  .then(data => {
    document.getElementById("result").innerHTML = `
      <h4>Prediction: ${data.prediction}</h4>
      <p>Confidence: ${(data.confidence * 100).toFixed(2)}%</p>
    `;
  })
  .catch(err => {
    console.error(err);
    alert("Error predicting the image.");
  });
});
</script>
</body>
</html>
